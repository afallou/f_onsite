<a ui-sref="app">Back</a>

<h2>Project view</h2>

Project name: {{vm.project.title}}

<button type="button" ng-click="vm.showAddFile = !vm.showAddFile">Add file</button>

<div id="file-upload" ng-show="vm.showAddFile">
  <form ng-submit="vm.uploadFiles()">
    <div ngf-drop ngf-select ng-model="vm.uploadForm.files" class="dropbox"
         ngf-drag-over-class="'dragover'" ngf-multiple="true" ngf-allow-dir="true"
         accept="image/*,application/pdf"
         ngf-pattern="'image/*,application/pdf'">
      Drop pdfs or images here or click to upload
    </div>

    Files:
    <ul>
      <li ng-repeat="file in vm.uploadForm.files">
        {{file.name}}
      </li>
    </ul>

    <button type="submit">Upload</button>
  </form>
</div>

<div ng-repeat="file in vm.project.files">
  <div>
    <a download="{{file.filename}}" ng-href="{{file.original}}"><img ng-src="{{file.thumb}}"></a>
    <span>{{file.filename}}</span>
  </div>
</div>